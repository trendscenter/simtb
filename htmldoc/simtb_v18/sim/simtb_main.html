<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of simtb_main</title>
  <meta name="keywords" content="simtb_main">
  <meta name="description" content="simtb_main()  - Main function for performing simulations">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="../index.html">simtb_v18</a> &gt; <a href="index.html">sim</a> &gt; simtb_main.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for simtb_v18\sim&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>simtb_main
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>simtb_main()  - Main function for performing simulations</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function simtb_main(sP) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> simtb_main()  - Main function for performing simulations
           For each subject:
           - Generates time courses (TC) and spatial maps (SM)
           - Multiplies TC*SM and adds scaled activations to baseline (B) to make dataset (D)
           - Simulates dataset motion (OPTIONAL)
           - Adds Rician noise to dataset (OPTIONAL)
           - Saves parameters, TC, SM, dataset, motions parameters and any figures displayed.

 Usage:
  &gt;&gt; simtb_main(sP)

 INPUTS:
 sP        = simulation parameter structure 

 OUTPUTS:
 (none, all outputs are saved to file).
 If sP.verbose_display, will display and save images of parameters and output

 see also: simtb_create_sP(), simtb_params()</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../simtb_v18/display/simtb_figure_model.html" class="code" title="function model_figure = simtb_figure_model(sP, sub, contour_level, WhichPanels)">simtb_figure_model</a>	simtb_figure_model() - Shows SM contours and/or Tissue Model</li><li><a href="../../simtb_v18/display/simtb_figure_output.html" class="code" title="function [cmTC, cmSM, comp_figure] = simtb_figure_output(sP, sub, TC, SM, plotit)">simtb_figure_output</a>	simtb_figure_output() - Shows TC/SM output for a given subject</li><li><a href="../../simtb_v18/display/simtb_figure_params.html" class="code" title="function param_figures = simtb_figure_params(sP, paramlistin)">simtb_figure_params</a>	simtb_figure_params()  - Shows simulation parameters</li><li><a href="../../simtb_v18/display/simtb_show_motion.html" class="code" title="function motion_figure = simtb_show_motion(sP, subs)">simtb_show_motion</a>	simtb_show_motion() - Shows translational/rotational motion of subjects</li><li><a href="../../simtb_v18/helper/simtb_checkparams.html" class="code" title="function [errorflag, Message] = simtb_checkparams(sP, OPT)">simtb_checkparams</a>	simtb_checkparams()  - Checks for appropriate and consistent simulation parameters</li><li><a href="../../simtb_v18/helper/simtb_makefilename.html" class="code" title="function filename = simtb_makefilename(sP, dtype, subIND)">simtb_makefilename</a>	simtb_makefilename()  - Makes filenames for various file types</li><li><a href="../../simtb_v18/io/simtb_createmask.html" class="code" title="function MASK = simtb_createmask(sP, saveMASKasNIFTI)">simtb_createmask</a>	simtb_createmask()  - Creates data mask with ones inside the head and zeros outside.</li><li><a href="../../simtb_v18/io/simtb_saveMOT.html" class="code" title="function simtb_saveMOT(mp, filename)">simtb_saveMOT</a>	simtb_saveMOT()  - Writes motion parameters to file</li><li><a href="../../simtb_v18/io/simtb_saveasnii.html" class="code" title="function simtb_saveasnii(D, filename)">simtb_saveasnii</a>	simtb_saveasnii()  - Save data matrix as an .nii file</li><li><a href="simtb_addMotion.html" class="code" title="function [Dnew, sP, mp] = simtb_addMotion(sP, D, sub)">simtb_addMotion</a>	simtb_addMotion()  - Simulates motion (translation/rotation) of dataset</li><li><a href="simtb_makeBaseline.html" class="code" title="function Baseline = simtb_makeBaseline(sP, sub)">simtb_makeBaseline</a>	simtb_makeBaseline()  - Generate baseline intensity map for each subject</li><li><a href="simtb_makeSM.html" class="code" title="function SM = simtb_makeSM(sP, sub)">simtb_makeSM</a>	simtb_makeSM()  - Makes component SMs (spatial maps)</li><li><a href="simtb_makeTC.html" class="code" title="function [TC, eTC, blocks, events, uevents, sP] = simtb_makeTC(sP, sub)">simtb_makeTC</a>	simtb_makeTC() - Makes component TCs (time courses)</li><li><a href="simtb_rand_seed.html" class="code" title="function newseed = simtb_rand_seed(newseed, verbose_FLAG)">simtb_rand_seed</a>	simtb_rand_seed()  -  Set random number generator (RNG) seeds</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->




<hr><address>Generated on Tue 29-Mar-2011 15:45:29 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>